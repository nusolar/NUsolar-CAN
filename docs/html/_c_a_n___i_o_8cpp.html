<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: CAN_IO.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">CAN_IO.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of <a class="el" href="class_c_a_n___i_o.html" title="Class for handling CAN I/O operations using the MCP2515 CAN controller. ">CAN_IO</a> class.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_c_a_n___i_o_8h_source.html">CAN_IO.h</a>&quot;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad19fec4ae9d3799faf3a955460c8d2b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n___i_o_8cpp.html#ad19fec4ae9d3799faf3a955460c8d2b8">first_byte</a>(value)&#160;&#160;&#160;uint8_t((value &gt;&gt; 3) &amp; 0x00FF)</td></tr>
<tr class="separator:ad19fec4ae9d3799faf3a955460c8d2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a552355dceae026bf95fd416612fb0ae6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n___i_o_8cpp.html#a552355dceae026bf95fd416612fb0ae6">second_byte</a>(value)&#160;&#160;&#160;uint8_t((value &lt;&lt; 5) &amp; 0x00E0)</td></tr>
<tr class="separator:a552355dceae026bf95fd416612fb0ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3276ec031fd43364591a627734342b67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n___i_o_8cpp.html#a3276ec031fd43364591a627734342b67">CAN_ISR</a> ()</td></tr>
<tr class="separator:a3276ec031fd43364591a627734342b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a82b6ed42d6499d08cf7cab2af84b337b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_a_n___i_o.html">CAN_IO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_c_a_n___i_o_8cpp.html#a82b6ed42d6499d08cf7cab2af84b337b">main_CAN</a> = 0</td></tr>
<tr class="memdesc:a82b6ed42d6499d08cf7cab2af84b337b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to the main can_io instance used for calling the <a class="el" href="class_c_a_n___i_o.html" title="Class for handling CAN I/O operations using the MCP2515 CAN controller. ">CAN_IO</a> instance when AutoFetch is enabled.  <a href="#a82b6ed42d6499d08cf7cab2af84b337b">More...</a><br /></td></tr>
<tr class="separator:a82b6ed42d6499d08cf7cab2af84b337b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of <a class="el" href="class_c_a_n___i_o.html" title="Class for handling CAN I/O operations using the MCP2515 CAN controller. ">CAN_IO</a> class. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad19fec4ae9d3799faf3a955460c8d2b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19fec4ae9d3799faf3a955460c8d2b8">&#9670;&nbsp;</a></span>first_byte</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define first_byte</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;uint8_t((value &gt;&gt; 3) &amp; 0x00FF)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a552355dceae026bf95fd416612fb0ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a552355dceae026bf95fd416612fb0ae6">&#9670;&nbsp;</a></span>second_byte</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define second_byte</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;uint8_t((value &lt;&lt; 5) &amp; 0x00E0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3276ec031fd43364591a627734342b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3276ec031fd43364591a627734342b67">&#9670;&nbsp;</a></span>CAN_ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAN_ISR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>/brief The global interrupt function which can be attached to the interrupt pin INT_p in order to Fetch messages every an interrupt is raised by the microcontroller.</p>
<p>This is referred to as AutoFetch. Unfortunately, using actual interrupts in the current version of the code is not advised becuase of negative interractions between the triggered interrupts and the SPI communications with the <a class="el" href="class_m_c_p2515.html" title="a class which acts as an interface to the MCP2515 chip. ">MCP2515</a>. Initial testing of this CAN library with AutoFetch indicated that using interrupts can corrupt the data being sent to the <a class="el" href="class_m_c_p2515.html" title="a class which acts as an interface to the MCP2515 chip. ">MCP2515</a> for transmission (see reference). For this reason, AutoFetch is disabled by default; the user is instead encouraged to poll the <a class="el" href="class_m_c_p2515.html" title="a class which acts as an interface to the MCP2515 chip. ">MCP2515</a> using the <a class="el" href="class_c_a_n___i_o.html#a02724e01fa0b5d3bd6d50e00f5b4f523" title="Fetch any available messages from the MCP2515. ">CAN_IO::Fetch()</a> and <a class="el" href="class_c_a_n___i_o.html#a10393f1a9f55c853bb21d74ebbc9d7ca" title="Fetch the error status of the MCP2515 over SPI and update internal variables. ">CAN_IO::FetchErrors()</a> methods. Interrupt-based fetching can be enabled thru the <a class="el" href="class_c_a_n___i_o.html#a533d98d764de7d4b5805c81259b1ffd6" title="Toggles AutoFetch on and off. ">CAN_IO::setAutoFetch()</a> method. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a82b6ed42d6499d08cf7cab2af84b337b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b6ed42d6499d08cf7cab2af84b337b">&#9670;&nbsp;</a></span>main_CAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_a_n___i_o.html">CAN_IO</a>* main_CAN = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to the main can_io instance used for calling the <a class="el" href="class_c_a_n___i_o.html" title="Class for handling CAN I/O operations using the MCP2515 CAN controller. ">CAN_IO</a> instance when AutoFetch is enabled. </p>
<p>The main_CAN variable is declared as "external" in <a class="el" href="_c_a_n___i_o_8h.html" title="Contains class definition for CAN_IO library. ">CAN_IO.h</a>, so we can define it here and it will be visible to all parts of the program. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
